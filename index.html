<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width" />
<meta charset="UTF-8" />
<title>[@@sci8]</title>
<link rel="Stylesheet" type="text/css" href="./css.css" title="heritage" />
<script type="module" src="./js.js"></script>
</head>
<body lang="ja">
<h1>日記</h1>
<!--
<article id="ID_TIME_STAMP_">
<section>
</section>
</article>
-->
<!--
<math xmlns="http://www.w3.org/1998/Math/MathML" xml:lang="en">
</math>
-->
<article id="ID_TIME_STAMP_1658383702668">
<section>
<h3>『いきなり<code lang="en">.then()</code>』</h3>
<p>は必要かなと思う。どういうことかと言うと<code lang="en">new Class().method().then()</code>の<code lang="en">.method()</code>を忘れても大丈夫なように作っておいても悪くはないだろうと思う。</p>
<p>例えば<code lang="en">new TXNs(...).fetch().then(...)</code>の<code lang="en">.fetch()</code>みたいな常に呼ばれるに決まっているであろうメソッドのこと。</p>
</section>
</article>
<article id="ID_TIME_STAMP_1658252007112">
<section>
<h3>ミリ秒</h3>
<p><span lang="en">mariadb</span>でいわゆる<span lang="en">unix time</span>を<var>13</var>桁の<code lang="en">BIGINT</code>にしている。これを<span lang="en">node-mariadb</span>で読むと<code lang="en">BigInt</code>になる。</p>
<p>原因を調べていないが</p>
<ul lang="en">
<li><code>.map(record => new Proxy(record, {get: (t, p, r) =&gt; p == 'foo' ? Number(t[p]) : Reflect.get(t, p, r)}))</code></li>
</ul>
<p>みたいなのがスルーされる。これ自体をあるひとつのオブジェクトに対してテストしたら意図通りになるので、数万レコード以上という数が問題なのかなと思われる。追求する時間がアホらしいので</p>
<ul lang="en">
<li><code>.map(({foo, bar}) => ({foo: Number(foo), bar}))</code></li>
</ul>
<p>のような処理にした(もちろん意図通りの値を返す)。</p>
<ins datetime="2022-07-24T13:46:12Z"><p>もしかしたら<br />
<code lang="en">const entries = [['20220719', {usd_jpy: 137.908}], ['20220724', {usd_jpy: 136.136}]];<br />
console.table(entries);<br />
console.table(Object.fromEntries(entries));<br />
const entries_proxied = entries.map(([u, v]) =&gt; [u, new Proxy(v, {get: (t, p, r) =&gt; p == 'usd_jpy' ? <strong>Math.floor(t[p])</strong> : Reflect.get(t, p, r)})]);<br />
console.table(entries_proxied);<br />
console.table(Object.fromEntries(entries_proxied));</code><br />
の出力で</p>
<table lang="en">
<caption><kbd>entries</kbd></caption>
<colgroup span="1"><col /></colgroup><colgroup span="2"><col /><col /></colgroup>
<thead><tr><th><samp>(index)</samp></th><th><samp>0</samp></th><th><samp>1</samp></th></tr></thead>
<tbody>
<tr><th><samp>0</samp></th><td><samp>'20220719'</samp></td><td><samp>{ usd_jpy: 137.908 }</samp></td></tr>
<tr><th><samp>1</samp></th><td><samp>'20220724'</samp></td><td><samp>{ usd_jpy: 136.136 }</samp></td></tr>
</tbody></table>
<table lang="en">
<caption><kbd>Object.fromEntries(entries)</kbd></caption>
<colgroup span="1"><col /></colgroup><colgroup span="1"><col /></colgroup>
<thead><tr><th><samp>(index)</samp></th><th><samp>usd_jpy</samp></th></tr></thead>
<tbody>
<tr><td><samp>20220719</samp></td><td><samp>137.908</samp></td></tr>
<tr><td><samp>20220724</samp></td><td><samp>136.136</samp></td></tr>
</tbody></table>
<table lang="en">
<caption><kbd>entries_proxied</kbd></caption>
<colgroup span="1"><col /></colgroup><colgroup span="2"><col /><col /></colgroup>
<thead><tr><th><samp>(index)</samp></th><th><samp>0</samp></th><th><samp>1</samp></th></tr></thead>
<tbody>
<tr><th><samp>0</samp></th><td><samp>'20220719'</samp></td><td><samp>{ usd_jpy: 137.908 }</samp></td></tr>
<tr><th><samp>1</samp></th><td><samp>'20220724'</samp></td><td><samp>{ usd_jpy: 136.136 }</samp></td></tr>
</tbody></table>
<table lang="en">
<caption><kbd>Object.fromEntries(entries_proxied)</kbd></caption>
<colgroup span="1"><col /></colgroup><colgroup span="1"><col /></colgroup>
<thead><tr><th><samp>(index)</samp></th><th><samp>usd_jpy</samp></th></tr></thead>
<tbody>
<tr><td><samp>20220719</samp></td><td><samp><strong>137</strong></samp></td></tr>
<tr><td><samp>20220724</samp></td><td><samp><strong>136</strong></samp></td></tr>
</tbody></table>
<p>みたいに違ってくることが関係しているかもな。<em>浅いと結果的に見て<code lang="en">[[Get]]</code>が呼ばれていないことになっている。</em></p></ins>
<p>というか<abbr lang="en">JSON</abbr>や<abbr lang="en">CSV</abbr>からの集計などで『<abbr lang="en">SQL</abbr>使えば楽だな』と思えば迷わず<code lang="en">[TEMPORARY] TABLE</code>からの丸投げに限る。</p>
<ins datetime="2022-07-24T14:58:33Z"><p>しかしあれだな、<span lang="en">Google Chrome</span>は<code lang="en">&lt;pre&gt;</code>要素をこちらの意図通りにはレンダリングしないのな。イラッとさせられたので<code lang="en">&lt;table&gt;</code>要素でマークアップした。</p></ins>
</section>
</article>
<article id="ID_TIME_STAMP_1658250573834">
<section>
<h3>肩関節周囲炎</h3>
<p>が激痛になってから3ヶ月にもなる。ネットで軽く検索する限りではこれほどの重症例が無い。こうすれば楽ですよ的な姿勢をそもそも取れないほど酷い。精神的にも病むような気がする。渡された薬は鎮痛薬ばかり。知識は無いが何のメリットも無いように思われる。</p>
<p>5年半ほど前に左肩に症状が出た。自分が突然老け込んだような気持ちになった。凡そ3年で懸垂出来るまでに回復した。その経験から右肩を殊更に大事にしていたつもりだったが、半年前くらいから嫌な違和感が出始めて春に一気に重症化した。</p>
<p>加齢が最大の原因なのかもしれないが、10年前くらいから毎日真面目に懸垂をやり続けたのが悪かったかなとも考えている。背中がボコボコになっていくのは楽しかったが関節にはよろしくなかったのではないかと。</p>
</section>
</article>
<article id="ID_TIME_STAMP_1658064666464">
<section>
<h3>山鉾巡行</h3>
<p>が終わった。梅雨明けを明示していた頃はこれの前あたりでいつも梅雨明け宣言が出ていたように記憶する。祇園祭は神事で天神祭は商業イベントだと思う。この両者は共に好きなのだが、これら以外の祭はどうも性に合わない。こう言っちゃなんだが他所のお祭りはどれも個々が勝手に動いているだけのように見劣りする。</p>
<p>個人的には送り火がいちばん好き。体力余っていた頃におそらく3桁回は登った如意ヶ嶽への愛着を抜きにしても送り火がいちばん好き。深い大気の底の暗闇から見上げる送り火の美しさ儚さは筆舌に尽くし難い。</p>
</section>
</article>
<article id="ID_TIME_STAMP_1658046084979">
<section>
<h3><code lang="en">.toExponential()</code>しない限りは全部アウトプットして欲しい。</h3>
<p>適切な例が思い浮かばないが例えば</p>
<ul><li><code lang="en">function sqrt(integerPortion: BigInt, fractionalPortion: BigInt): BigInt {...}</code></li></ul>
<p>みたいなのは使い勝手どうなのかな。</p>
<p>もちろん必要なのは<code lang="en">BigInt#toString()</code>だからこれはそもそも<code lang="en">String</code>で良い。</p>
<p>そもそも数値リテラルとして<code lang="en">1.0e-20</code>は要るのかもしれないがそれが数字として<code lang="en">"1.0e-20"</code>と表示されて欲しい場面はむしろ特殊だと思われるわけで、文字列は入力そのままで何百桁でも愚直に返して欲しい。例えば10進数以外の文字列は丸めた結果を長々と返すだけなんだが、こういうのも要らんのよね、愚直に入力をそのまま返して欲しい。</p>
</section>
</article>
<article id="ID_TIME_STAMP_1658040882838">
<section>
<h3><span lang="en">github</span>での編集だけで書いていたが</h3>
<p>やはり反映の遅さを我慢できなくなってローカルで書く事にした。データ(<abbr lang="en">HTML</abbr>など)や設定(<abbr lang="en">CSS</abbr>など)のインデントが個人的に本当に嫌いなのでこの機に全て削除した。</p>
<p>この個人的好みを正しいものと仮定して、今の世の中には明らかに間違った方向が実在する。<abbr lang="en">SCSS</abbr>のこと。あのね、フラットだからみんな書けるの。デザイナーが書く<span lang="en">jQuery</span>見てみ、フラットで逐次的で設定ファイル的で逆に鱗落ものだから笑。それをわざわざ入れ子にさせたり抽象化の仕組みを入れてみたりと、作業する者の知能を考慮したら絶対にやっちゃいけないことのオンパレード。ひどい仕打ちだろ笑。</p>
<p>そもそも私みたいに<abbr lang="en" title="Netscape Navigator">NN</abbr>向けに<abbr lang="en">JSSS</abbr>をリアルタイムで普通に書いていたジジイからしたら負の遺産の再発明にしか見えないよ。というかどうしても処理手順を書きたきゃ<abbr lang="en">JS</abbr>で<abbr lang="en">CSS</abbr>を弄りゃ良いじゃん、今どきオフにしている人なんてギガ欠乏期の人だけだろうし。</p>
</section>
</article>
<article id="ID_TIME_STAMP_1657903121448">
<section>
<h3>数学・算数の試験で解き方を強制されるのは</h3>
<p>院試からだと思う。それまでは好きにして良いはず。</p>
<p>大人に対する未修範囲から出題してはいけないという制約を勝手独自に混同して子供も未修範囲の解き方をしてはいけないと変な誤解に陥っているだけじゃないかな。正しい理解が適切に解答に示されていれば未修か既習かなんて採点者は関知しないはず。</p>
<p>というか15年くらい昔の東工大の院試に3辺が正整数で具体的に与えられた三角形の面積を求めさせる問題があって、それをヘロンの公式だかなんだかで解いても点数あるのかと疑問に思ったことがある。センター試験じゃないんだから。数値は記憶に無いが、例えば<var>12,17,25</var>みたいな、物理系工学系なら秒殺できて当然の数値だった。これをえっちらおっちら高校代数幾何で出てきたような公式で解いて点数あるとはとても思えないんだけどな。</p>
</section>
</article>
<article id="ID_TIME_STAMP_1657832624465">
<section>
<h3>面倒くさいは老化の特徴。</h3>
<ul>
<li><p>何年も <span lang="en">Windows</span>を所有していないからどうでもいいが、なんとなくトライアンドエラーでやっていた事がはっきり解った。</p>
<dl lang="en">
<dt><a href="https://dev.mysql.com/doc/refman/8.0/en/option-files.html#option-file-syntax">MySQL 8.0 Reference Manual / ... / Option File Syntax</a></dt>
<dd><blockquote cite="https://dev.mysql.com/doc/refman/8.0/en/option-files.html#option-file-syntax"><p>The escaping rules for option file values are especially pertinent <em>for Windows path names</em>, which use <code>\</code> as a path name separator. A separator in a Windows path name must be written as <code>\\</code> <em>if it is followed by an escape sequence character</em>. It can be written as <code>\\</code> or <code>\</code> <em>if it is not</em>.</p></blockquote></dd>
<dt><a href="https://dev.mysql.com/doc/refman/8.0/en/option-files.html#option-file-inclusions">MySQL 8.0 Reference Manual / ... / Option File Inclusions</a></dt>
<dd><blockquote cite="https://dev.mysql.com/doc/refman/8.0/en/option-files.html#option-file-inclusions"><p>For inclusion directives to work, the file path should <em>not</em> be specified within quotes and should have <em>no</em> escape sequences.</p></blockquote></dd>
</dl></li>
<li><p>こういうの書く人には感謝するが、自分は面倒くさいから書くことはない。</p>
<dl lang="en">
<dt><a href="https://mariadb.com/kb/en/configuring-mariadb-with-option-files/#option-prefixes">MariaDB Option Prefixes</a></dt>
<dd><blockquote cite="https://mariadb.com/kb/en/configuring-mariadb-with-option-files/#option-prefixes"><table><thead><tr><th>Option Prefix</th><th>Description</th></tr></thead><tbody>
<tr><td><code><a href="https://mariadb.com/kb/en/mysqld-options/#-autoset-">autoset</a></code></td><td>Sets the option value automatically. Only supported for certain options. Available in <a href="https://mariadb.com/kb/en/mariadb-1017-release-notes/">MariaDB 10.1.7</a> and later.</td></tr>
<tr><td><code><a href="https://mariadb.com/kb/en/mysqld-options/#-disable-">disable</a></code></td><td>For all boolean options, disables the setting (equivalent to setting it to <code>0</code>). Same as <code>skip</code>.</td></tr>
<tr><td><code><a href="https://mariadb.com/kb/en/mysqld-options/#-enable-">enable</a></code></td><td>For all boolean options, enables the setting (equivalent to setting it to <code>1</code>).</td></tr>
<tr><td><code><a href="https://mariadb.com/kb/en/mysqld-options/#-loose-">loose</a></code></td><td>Don't produce an error if the option doesn't exist.</td></tr>
<tr><td><code><a href="https://mariadb.com/kb/en/mysqld-options/#-maximum-">maximum</a></code></td><td>Sets the maximum value for the option.</td></tr>
<tr><td><code><a href="https://mariadb.com/kb/en/mysqld-options/#-skip-">skip</a></code></td><td>For all boolean options, disables the setting (equivalent to setting it to <code>0</code>). Same as <code>disable</code>.</td></tr>
</tbody></table></blockquote></dd>
</dl></li>
</ul>
</section>
</article>
<article id="ID_TIME_STAMP_1657690077205">
<section>
<h3>運転中に画面をじっと見るのが危ないのと同様に</h3>
<p>標識等をじっと見るのも危ないな。見て情報を得ることと検討することを意識して分離しなければ危ない。見ながら考えていると気付かぬうちに何秒も経過しているわけだが、交通事故はその何秒かで十分起こり得る。</p>
</section>
</article>
<article id="ID_TIME_STAMP_1657555918594">
<section>
<h3>いささかトリッキーな感じだが</h3>
<code lang="en">new Promise((form =&gt; form.addEventListener.bind(form, 'submit'))(document.forms.namedItem('...')))<br />
.then(e =&gt; {...; return e}).then(e =&gt; {...; return e})....catch(error => {...})/*.finally(...)*/;</code><br />
は最初のイベント発生時に実行されるだけ。</p>
</section>
</article>
<article id="ID_TIME_STAMP_1657475163538">
<section>
<h3>損切りしなくて済む条件はごく単純に</h3>
<ul>
<li>いつか必ず戻り、かつ、</li>
<li>いつまででも待てる。</li>
</ul>
<p>だろうと思われるが、検索すると判を押したかのように損失金額を条件というか事前に決意したそれに従えみたいな事が書かれている。時間を金額に当たり前のように飛躍させる気持ちは分からなくはないが、そこに数理が無ければそれはオカルトでしかない。</p>
</section>
</article>
<article id="ID_TIME_STAMP_1657462591703">
<section>
<h3>好きに<abbr lang="en">HTML</abbr>を書く。</h3>
<p>それなりに楽しいが不安になる。</p>
<p>知的に高度に構築されつつあったものが悉く現実に拒絶された後の祭状態やな。</p>
</section>
</article>
<article id="ID_TIME_STAMP_1657438900634">
<section>
<h3>古い家の中は</h3>
<p>夏野菜を母親がサラダ油で揚げる匂い。</p>
</section>
</article>
</body>
</html>
